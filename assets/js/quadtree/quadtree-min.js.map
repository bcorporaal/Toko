{"version":3,"names":["Point","constructor","x","y","data","this","userData","sqDistanceFrom","other","dx","dy","distanceFrom","Math","sqrt","Rectangle","w","h","left","right","top","bottom","contains","point","intersects","range","subdivide","quadrant","xDistanceFrom","min","abs","yDistanceFrom","Circle","r","rSquared","pow","xDist","yDist","edges","QuadTree","DEFAULT_CAPACITY","MAX_DEPTH","boundary","capacity","_depth","TypeError","RangeError","points","divided","depth","children","northeast","northwest","southeast","southwest","clear","static","arguments","length","width","height","bounds","toJSON","obj","ne","nw","se","sw","qt","fromJSON","p","insert","push","query","found","deleteInRange","filter","closest","searchPoint","maxCount","maxDistance","Infinity","sqMaxDistance","kNearest","furthestSqDistance","foundSoFar","sort","a","b","forEach","child","sqDistance","result","childPoints","concat","max","slice","fn","filtered","merge","module","exports"],"sources":["quadtree.js"],"mappings":"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"}